<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head next-head"/><title class="next-head">Functional setState (Pass a function to setState) | React patterns and techniques to use in development for React Developers</title><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" class="next-head"/><meta name="description" content="Functional setState (Pass a function to setState)" class="next-head"/><meta name="author" content="Bunlong" class="next-head"/><meta property="og:type" content="website" class="next-head"/><meta property="og:url" content="https://reactpatterns.github.io" class="next-head"/><meta property="og:title" content="Functional setState (Pass a function to setState)" class="next-head"/><meta property="og:image" content="https://reactpatterns.github.io/static/reactjs.png" class="next-head"/><meta property="og:description" content="Functional setState (Pass a function to setState)" class="next-head"/><meta name="twitter:card" content="summary" class="next-head"/><meta name="twitter:site" content="@reactjspatterns" class="next-head"/><meta name="twitter:title" content="Functional setState (Pass a function to setState)" class="next-head"/><meta name="twitter:description" content="Functional setState (Pass a function to setState)" class="next-head"/><meta name="twitter:image" content="https://reactpatterns.github.io/static/reactjs.png" class="next-head"/><link href="../static/styles.css" rel="stylesheet" class="next-head"/><link rel="preload" href="/{reponame}/_next/f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f/page/post.js" as="script"/><link rel="preload" href="/{reponame}/_next/f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f/page/_error.js" as="script"/><link rel="preload" href="/{reponame}/_next/f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f/main.js" as="script"/></head><body><div id="__next"><div data-reactroot=""><div id="container"><div id="about">[ <a href="https://github.com/codefacebook/react-patterns" target="_blank">Github</a> | <a href="https://twitter.com/reactjspatterns" target="_blank">Twitter</a> ]</div><header><h2><a href="/">React Patterns &amp; Techniques</a></h2></header><div><h1>Functional setState (Pass a function to setState)</h1><p>React has popularized functional programming in JavaScript. So today I reveal to you a new functional gold in React is  <strong><em>Functional setState</em></strong>.</p><p>Assume that you have a User component as below.</p><pre><code>class User {
  state = {
    score : 0,
  };

  render () {
    return (
      &lt;div&gt;This user scored {this.state.score}&lt;/div&gt;
    );
  }
}</code></pre><p>To manage the state, React provides a special method called setState(). You use it like this.</p><pre><code>class User {
  ... 

  increaseScore () {
    this.setState({score : this.state.score + 1});
  }

  ...
}</code></pre><p>Note how <code>setState()</code> works. You pass it an object containing part(s) of the state you want to update. In other words, the object you pass would have keys corresponding to the keys in the component state, then <code>setState()</code> updates or sets the state by merging the object to the state. Thus, &quot;set-State&quot;.</p><p>Instead of passing an object, you could pass a function to setState as well.</p><p><code>setState()</code> also accepts a function. The function accepts the previous state and current props of the component which it uses to calculate and return the next state. See it below:</p><pre><code>this.setState(function (state, props) {
 return {
  score: state.score + 1
 }
});</code></pre><p>Ex:</p><pre><code>function increment(state, props) {
  return {
    value: state.value + props.step,
  };
}

function decrement(state, props) {
  return {
    value: state.value - props.step,
  }
}

class Counter extends React.Component {
  state = { value: 0 };

  handleIncrement = () =&gt; {
    this.setState(increment);
  }

  handleDecrement = () =&gt; {
    this.setState(decrement);
  }

  render() {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleIncrement}&gt;+&lt;/button&gt;
        &lt;h1&gt;{this.state.value}&lt;/h1&gt;
        &lt;button onClick={this.handleDecrement}&gt;-&lt;/button&gt;
      &lt;/div&gt;
    )
  }
}</code></pre></div><footer>© 2018 Maintain by <a href="https://github.com/Bunlong" target="_blank">Bunlong</a> | Website built with <a href="https://reactjs.org" target="_blank">React</a> &amp; <a href="https://github.com/zeit/next.js" target="_blank">Next.js</a> | ReactPatterns on [ <a href="https://github.com/codefacebook/react-patterns" target="_blank">Github</a> | <a href="https://twitter.com/reactjspatterns" target="_blank">Twitter</a> ]</footer></div></div></div><div id="__next-error"></div><script>
          __NEXT_DATA__ = {"props":{"content":"# Functional setState (Pass a function to setState)\n\nReact has popularized functional programming in JavaScript. So today I reveal to you a new functional gold in React is  ***Functional setState***.\n\nAssume that you have a User component as below.\n\n```\nclass User {\n  state = {\n    score : 0,\n  };\n\n  render () {\n    return (\n      \u003cdiv\u003eThis user scored {this.state.score}\u003c/div\u003e\n    );\n  }\n}\n```\n\nTo manage the state, React provides a special method called setState(). You use it like this.\n\n```\nclass User {\n  ... \n\n  increaseScore () {\n    this.setState({score : this.state.score + 1});\n  }\n\n  ...\n}\n```\n\nNote how `setState()` works. You pass it an object containing part(s) of the state you want to update. In other words, the object you pass would have keys corresponding to the keys in the component state, then `setState()` updates or sets the state by merging the object to the state. Thus, \"set-State\".\n\nInstead of passing an object, you could pass a function to setState as well.\n\n`setState()` also accepts a function. The function accepts the previous state and current props of the component which it uses to calculate and return the next state. See it below:\n\n```\nthis.setState(function (state, props) {\n return {\n  score: state.score + 1\n }\n});\n```\n\nEx:\n\n```\nfunction increment(state, props) {\n  return {\n    value: state.value + props.step,\n  };\n}\n\nfunction decrement(state, props) {\n  return {\n    value: state.value - props.step,\n  }\n}\n\nclass Counter extends React.Component {\n  state = { value: 0 };\n\n  handleIncrement = () =\u003e {\n    this.setState(increment);\n  }\n\n  handleDecrement = () =\u003e {\n    this.setState(decrement);\n  }\n\n  render() {\n    return (\n      \u003cdiv\u003e\n        \u003cbutton onClick={this.handleIncrement}\u003e+\u003c/button\u003e\n        \u003ch1\u003e{this.state.value}\u003c/h1\u003e\n        \u003cbutton onClick={this.handleDecrement}\u003e-\u003c/button\u003e\n      \u003c/div\u003e\n    )\n  }\n}\n```","title":"Functional setState (Pass a function to setState)"},"page":"/post","pathname":"/post","query":{"id":"Functional-setState-(Pass-a-function-to-setState)"},"buildId":"f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f","assetPrefix":"/{reponame}","nextExport":true,"err":null,"chunks":[]}
          module={}
          __NEXT_LOADED_PAGES__ = []
          __NEXT_LOADED_CHUNKS__ = []

          __NEXT_REGISTER_PAGE = function (route, fn) {
            __NEXT_LOADED_PAGES__.push({ route: route, fn: fn })
          }

          __NEXT_REGISTER_CHUNK = function (chunkName, fn) {
            __NEXT_LOADED_CHUNKS__.push({ chunkName: chunkName, fn: fn })
          }

          false
        </script><script async="" id="__NEXT_PAGE__/post" src="/{reponame}/_next/f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f/page/post.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/{reponame}/_next/f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f/page/_error.js"></script><script src="/{reponame}/_next/f8ae66c3-a0d6-498f-91dd-1adf1d4ab54f/main.js" async=""></script></body></html>